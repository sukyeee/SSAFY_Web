<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>동별 실거래가 조회</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="./style.css" type="text/css"></link>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow fixed-top">
    <div class="container">
      <a class="navbar-brand text-primary fw-bold" href="index.html">
        구해줘 홈즈
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-lg-0">
        </ul>
        <!-- 로그인 전 -->
        <ul class="navbar-nav mb-2 me-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="allPrice.html">전체 거래 기록</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="apartPrice.html">아파트 거래 기록</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="addressPrice.html">동별 건물 거래</a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="join.html">회원가입</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="login.html">로그인</a>
          </li>
        </ul>
        <!-- 로그인 후 -->
        <ul class="navbar-nav mb-2 me-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="#">로그아웃</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="info.html">마이페이지</a>
          </li>
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="navbarDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              관리자
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="userinfo.html">회원관리</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <hr>
  <hr>
  <hr>
    <div class="contianer">
        <!-- 헤더 위치입니다 -->

        <!-- 거래정보 -->
        <div class="row" id="deal-content">
            <div id="deal-wrapper" class="col-3">

                <div class="container"> 
                    <div class="row">
                        <h2 style="margin-top: 5px; margin-left: 0.5em;">거래정보</h2>
                        <hr>
                    </div>
                    <div class="row deal-list">
                      <div class="row deal-list-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                        <div class="row deal-name">경희궁의아침 2단지</div>
                        <div class="row deal-money">거래금액: 105,000<br>면적: 124.17</div>
                        <div class="row deal-date">2015.12</div>
                      </div>
                      <div class="row deal-list-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                        <div class="row deal-name">경희궁 파크팰리스</div>
                        <div class="row deal-money">거래금액: 120,000<br>면적: 146.33</div>
                        <div class="row deal-date">2015.12</div>
                      </div>
                      <div class="row deal-list-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                        <div class="row deal-name">경희궁 파크팰리스</div>
                        <div class="row deal-money">거래금액: 120,000<br>면적: 146.33</div>
                        <div class="row deal-date">2015.12</div>
                      </div>
                      <div class="row deal-list-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                        <div class="row deal-name">경희궁 파크팰리스</div>
                        <div class="row deal-money">거래금액: 120,000<br>면적: 146.33</div>
                        <div class="row deal-date">2015.12</div>
                      </div>
                      <div class="row deal-list-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                        <div class="row deal-name">경희궁의아침 2단지</div>
                        <div class="row deal-money">거래금액: 105,000<br>면적: 124.17</div>
                        <div class="row deal-date">2015.12</div>
                      </div>
                    
                    </div>
                </div> 
                </div>      
            <div id="map-wrapper">
                <div id="map-detail"></div>
            </div>
        </div>
            

        <!-- 상세정보 modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">상세정보</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div id="modal-body">
          ...
        </div>
        <div class="modal-footer">
            <i class="bi bi-suit-heart" id="interest"></i>
        </div>
      </div>
    </div>
  </div>

    </div>

<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=30825d7ff55d14a818299c266e641081"></script>
<script>
var mapContainer = document.getElementById('map-detail'), // 지도를 표시할 div  
    mapOption = { 
        center: new kakao.maps.LatLng(37.5733, 126.972), // 지도의 중심좌표
        level: 2 // 지도의 확대 레벨
    };

var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

// 일반 지도와 스카이뷰로 지도 타입을 전환할 수 있는 지도타입 컨트롤을 생성합니다
var mapTypeControl = new kakao.maps.MapTypeControl();

// 지도에 컨트롤을 추가해야 지도위에 표시됩니다
// kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다
map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);

// 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다
var zoomControl = new kakao.maps.ZoomControl();
map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);

 
// 마커를 표시할 위치와 title 객체 배열입니다 
var positions = [
    {
        title: '경희궁의아침2단지', 
        latlng: new kakao.maps.LatLng(37.574, 126.971)
    },
    {
        title: '경희궁파크팰리스', 
        latlng: new kakao.maps.LatLng(37.5742, 126.9705)
    },

];

// 마커 이미지의 이미지 주소입니다
var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png"; 
    
for (var i = 0; i < positions.length; i ++) {
    
    // 마커 이미지의 이미지 크기 입니다
    var imageSize = new kakao.maps.Size(24, 35); 
    
    // 마커 이미지를 생성합니다    
    var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize); 
    
    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        map: map, // 마커를 표시할 지도
        position: positions[i].latlng, // 마커를 표시할 위치
        title : positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
        image : markerImage // 마커 이미지 
    });
}

var polygonPath = [
    new kakao.maps.LatLng(37.574541, 126.970308),
    new kakao.maps.LatLng(37.574694, 126.970496),
    new kakao.maps.LatLng(37.574613, 126.970712),
    new kakao.maps.LatLng(37.574515, 126.970904),
    new kakao.maps.LatLng(37.574418, 126.971129),
    new kakao.maps.LatLng(37.574481, 126.971296),
    new kakao.maps.LatLng(37.574475, 126.971661),
    new kakao.maps.LatLng(37.574521, 126.971843),
    new kakao.maps.LatLng(37.574464, 126.972085),
    new kakao.maps.LatLng(37.574190, 126.972281),
    new kakao.maps.LatLng(37.574039, 126.972517),
    new kakao.maps.LatLng(37.574094, 126.972661),
    new kakao.maps.LatLng(37.574087, 126.972825),
    new kakao.maps.LatLng(37.574078, 126.973219),
    new kakao.maps.LatLng(37.572489, 126.974104),
    new kakao.maps.LatLng(37.572110, 126.973505),
    new kakao.maps.LatLng(37.571948, 126.972040),
    new kakao.maps.LatLng(37.572134, 126.971373),
    new kakao.maps.LatLng(37.572134, 126.971373),
    new kakao.maps.LatLng(37.572784, 126.970417),
    
];

// 지도에 표시할 다각형을 생성합니다
var polygon = new kakao.maps.Polygon({
    path:polygonPath, // 그려질 다각형의 좌표 배열입니다
    strokeWeight: 3, // 선의 두께입니다
    strokeColor: '#39DE2A', // 선의 색깔입니다
    strokeOpacity: 0.8, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
    strokeStyle: 'longdash', // 선의 스타일입니다
    fillColor: '#A2FF99', // 채우기 색깔입니다
    fillOpacity: 0.7 // 채우기 불투명도 입니다
});

// 지도에 다각형을 표시합니다
polygon.setMap(map);

/********************모달*********************/
let detail = [
{
        title : '경희궁의아침2단지',
        location : '서울 종로구 내수동',
        money: '82,500',
        deal_date: '2015.12.10',
        build_year: '2008',
        floor: '11',
        area: '94.51'
    },
    {
        title : '경희궁파크팰리스',
        location : '서울 종로구 내수동',
        money: '60,000',
        deal_date: '2015.12.22',
        build_year: '1981',
        floor: '8',
        area: '149.95'
    },
    
]

let list_item = document.querySelectorAll('.deal-list-item')
let modal = document.querySelector('#modal-body')

list_item.forEach((el, index) => {
    el.addEventListener("click", function() {
        if(detail.length <= index){
            modal.innerHTML = `상세정보 준비중<br><br>`
        } else{
            let item = detail[index]
            modal.innerHTML = `건물명: ${item.title}<br>주소: ${item.location}<br>매매가: ${item.money}<br>거래일자: ${item.deal_date}<br>건축년도: ${item.build_year}<br>층수: ${item.floor}<br>전용면적: ${item.area}`

        }
            
    })
})

var i = 0;
let interest = document.querySelector('#interest')
interest.addEventListener("click", function(){
    if(i==0){
               interest.classList.add('bi-suit-heart');
               interest.classList.remove('bi-suit-heart-fill');
                i++;
            }else if(i==1){
                interest.classList.remove('bi-suit-heart');
                interest.classList.add('bi-suit-heart-fill');

                i--;
            }
})

</script>


</body>
</html>
